{"version":3,"sources":["webpack:///./src/components/elements/ElFieldNumber.vue?fa6a","webpack:///./src/components/elements/ElFieldNumber.vue?61db","webpack:///src/components/elements/ElFieldNumber.vue","webpack:///./src/components/elements/ElFieldNumber.vue?c50c","webpack:///./src/components/elements/ElFieldNumber.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","fieldId","singleLine","fieldLabel","fieldShowValidation","fieldRules","required","on","$event","stopPropagation","eventKeyDown","eventBlur","eventInput","model","value","callback","$$v","fieldValue","expression","staticRenderFns","name","prop","event","props","properties","propertiesValue","label","showValidation","selectedValue","data","isInputEmit","fieldRequired","computed","fieldMaxLength","watch","mounted","setTimeout","document","querySelector","methods","$emit","key","preventDefault","length","toString","replace","tableName","keyShift","shiftKey","field","id","idRow","code","includes","component","VTextField"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,eAAe,CAACE,YAAY,kBAAkBC,MAAM,CAAC,GAAKP,EAAIQ,QAAQ,MAAQ,GAAG,cAAcR,EAAIS,WAAW,MAAQT,EAAIU,WAAW,eAAeV,EAAIW,oBAAoB,MAASX,EAAiB,cAAI,CAACA,EAAIY,WAAWC,UAAY,IAAIC,GAAG,CAAC,QAAU,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyBhB,EAAIiB,aAAaF,IAAS,KAAO,SAASA,GAAiC,OAAzBA,EAAOC,kBAAyBhB,EAAIkB,UAAUH,IAAS,MAAQf,EAAImB,YAAYC,MAAM,CAACC,MAAOrB,EAAc,WAAEsB,SAAS,SAAUC,GAAMvB,EAAIwB,WAAWD,GAAKE,WAAW,iBAC/lBC,EAAkB,GCctB,G,sEAAA,CACEC,KAAM,gBACNP,MAAO,CACLQ,KAAM,kBACNC,MAAO,SAETC,MAAO,CACLC,WAAY,GACZC,gBAAiB,GACjBC,MAAO,CAAX,yBACIxB,WAAY,CAAhB,yBACIyB,eAAgB,CAApB,yBACIC,cAAe,CAAnB,yBAEEC,KAdF,WAcA,QACI,MAAO,CACLC,aAAa,EACb7B,QAAS,MAAf,8DACMgB,WAAYvB,KAAK+B,gBACjBM,cAAN,yDACM1B,WAAY,CACVC,SAAU,SAAlB,kCAIE0B,SAAU,CACR7B,WADJ,WACA,kFACI8B,eAFJ,WAEA,yGACI7B,oBAHJ,WAGA,6BAEE8B,MAAO,CACLT,gBADJ,WAEM/B,KAAKuB,WAAavB,KAAK+B,kBAG3BU,QAnCF,WAmCA,WACIC,YAAW,WACL,EAAV,gBACQC,SAASC,cAAc,IAA/B,0CACQD,SAASC,cAAc,IAA/B,4BACQD,SAASC,cAAc,IAA/B,8BAEA,KAEEC,QAAS,CACP3B,WADJ,WAEMlB,KAAK8C,MAAM,QAAS9C,KAAKuB,aAE3BP,aAJJ,SAIA,GAEM,GAAiB,UAAbY,EAAMmB,IAGR,OAFA/C,KAAKoC,aAAc,OACnBpC,KAAK8C,MAAM,mBAAoB,CAAvC,eAGM,GAAiB,SAAblB,EAAMmB,KAA+B,OAAbnB,EAAMmB,IAAc,CAE9C,GADAnB,EAAMoB,iBACFhD,KAAKqC,eAA2C,GAA1BrC,KAAKuB,WAAW0B,OAAa,OAYvD,OAXAjD,KAAKoC,aAAc,EAEnBpC,KAAKuB,WAAavB,KAAKuB,WAAW2B,WAAWC,QAAQ,MAAO,UAC5DnD,KAAK8C,MAAM,mBAAoB,CAC7BM,UAAWpD,KAAK8B,WAAWsB,UAC3BL,IAAKnB,EAAMmB,IACXM,SAAUzB,EAAM0B,SAChBlC,MAAOpB,KAAKuB,WACZgC,MAAOvD,KAAK8B,WAAWV,MACvBoC,GAAIxD,KAAK8B,WAAW2B,SAIpB7B,EAAM8B,KAAKC,SAAS,QAC9B,uBACA,wBACA,qBACA,iBACA,qBACA,iBACA,iBACA,kBACA,aAEwB,iBAAd/B,EAAM8B,MAAyC,SAAd9B,EAAM8B,OACrC,KAAZ,yEAHQ,EAAR,kBAOIzC,UA3CJ,WA4CWjB,KAAKoC,aAERpC,KAAK8C,MAAM,wBCzGmV,I,yDCQlWc,EAAY,eACd,EACA9D,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAAmC,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,aAAA,Q","file":"js/chunk-5e72d618.41c3bd0e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElFieldNumber.vue?vue&type=style&index=0&id=1d0e2eac&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-text-field',{staticClass:\"el-field-number\",attrs:{\"id\":_vm.fieldId,\"dense\":\"\",\"single-line\":_vm.singleLine,\"label\":_vm.fieldLabel,\"hide-details\":_vm.fieldShowValidation,\"rules\":(_vm.fieldRequired) ? [_vm.fieldRules.required] : []},on:{\"keydown\":function($event){$event.stopPropagation();return _vm.eventKeyDown($event)},\"blur\":function($event){$event.stopPropagation();return _vm.eventBlur($event)},\"input\":_vm.eventInput},model:{value:(_vm.fieldValue),callback:function ($$v) {_vm.fieldValue=$$v},expression:\"fieldValue\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-text-field :id=\"fieldId\"\r\n                class=\"el-field-number\" \r\n                dense\r\n                v-model=\"fieldValue\"\r\n                :single-line=\"singleLine\"\r\n                :label=\"fieldLabel\"\r\n                :hide-details=\"fieldShowValidation\"\r\n                :rules=\"(fieldRequired) ? [fieldRules.required] : []\"\r\n                @keydown.stop=\"eventKeyDown\"\r\n                @blur.stop=\"eventBlur\"\r\n                @input=\"eventInput\"></v-text-field>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ElFieldNumber',\r\n  model: {\r\n    prop: 'propertiesValue',\r\n    event: 'input',\r\n  },\r\n  props: {\r\n    properties: '',\r\n    propertiesValue: '',\r\n    label: {type: Boolean, default: false}, // hidden or show label\r\n    singleLine: {type: Boolean, default: true},\r\n    showValidation: {type: Boolean, default: false}, // hidden or show hint error\r\n    selectedValue: {type: Boolean, defalt: false} // selected value in text field after mounted\r\n  },\r\n  data() {\r\n    return {\r\n      isInputEmit: false,\r\n      fieldId: `El-${this.properties?.value}`,\r\n      fieldValue: this.propertiesValue,\r\n      fieldRequired: this.properties?.required,\r\n      fieldRules: {\r\n        required: value => !!value || 'мин. 1 символ',\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    fieldLabel() { return (this.label) ? this.properties?.label: '' },\r\n    fieldMaxLength() { return (this.properties?.max_length) ? this.properties.max_length : Infinity; },\r\n    fieldShowValidation() { return (this.showValidation) ? false : true }\r\n  },\r\n  watch: {\r\n    propertiesValue() { \r\n      this.fieldValue = this.propertiesValue; \r\n    }\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      if (this.selectedValue) {\r\n        document.querySelector(`#${this.fieldId}`).setSelectionRange(0, 0);\r\n        document.querySelector(`#${this.fieldId}`).select();\r\n        document.querySelector(`#${this.fieldId}`).focus();\r\n      }\r\n    }, 10);\r\n  },\r\n  methods: {\r\n    eventInput() {\r\n      this.$emit('input', this.fieldValue);\r\n    },\r\n    eventKeyDown(event) {\r\n      // console.log('input string component');\r\n      if (event.key == 'Escape') {\r\n        this.isInputEmit = true;\r\n        this.$emit('editing-canceled', {key: 'Escape'});\r\n        return;\r\n      }\r\n      if (event.key == 'Enter' || event.key == 'Tab') {\r\n        event.preventDefault();\r\n        if (this.fieldRequired && this.fieldValue.length == 0) return;\r\n        this.isInputEmit = true;\r\n        // console.log(this.fieldValue);\r\n        this.fieldValue = this.fieldValue.toString().replace(/\\./g, ','); \r\n        this.$emit('editing-accepted', {\r\n          tableName: this.properties.tableName,\r\n          key: event.key,\r\n          keyShift: event.shiftKey,\r\n          value: this.fieldValue,\r\n          field: this.properties.value,\r\n          id: this.properties.idRow\r\n        });\r\n        return;\r\n      }\r\n      if (event.code.includes('Key') || \r\n          event.code == 'BracketLeft' || \r\n          event.code == 'BracketRight' ||\r\n          event.code == 'Backslash' ||\r\n          event.code == 'Space' ||\r\n          event.code == 'Semicolon' || \r\n          event.code == 'Quote' || \r\n          event.code == 'Comma' ||\r\n          event.code == 'Period' ||\r\n          event.key == '/') { event.preventDefault(); return; }\r\n\r\n      if (event.code == 'NumpadDecimal' || event.code == 'Slash') {\r\n        if ((this.fieldValue.match(/[\\.\\,]/g)) && (this.fieldValue.match(/[\\.\\,]/g).length > 0)) { event.preventDefault(); return; }\r\n      }\r\n    },\r\n\r\n    eventBlur() {\r\n      if (!this.isInputEmit) {\r\n        // console.log('blur string component');\r\n        this.$emit('editing-canceled');\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-field-number {\r\n  width: 100%;\r\n  font-size: 14px;\r\n}\r\n.v-text-field {\r\n  margin-top: -3.5px;\r\n}\r\n::v-deep {\r\n  input { text-align: end; }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElFieldNumber.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElFieldNumber.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElFieldNumber.vue?vue&type=template&id=1d0e2eac&scoped=true&\"\nimport script from \"./ElFieldNumber.vue?vue&type=script&lang=js&\"\nexport * from \"./ElFieldNumber.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ElFieldNumber.vue?vue&type=style&index=0&id=1d0e2eac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d0e2eac\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n"],"sourceRoot":""}